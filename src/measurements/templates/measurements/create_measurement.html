{% extends 'measurements/main.html' %}
{% load static %}

{% block title %}Nova Medição{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2 class="mb-4 text-center">Nova Medição</h2>

    <form method="post" enctype="multipart/form-data" class="needs-validation" novalidate>
        {% csrf_token %}
        {{ form.media }}

        <div class="row">
            <div class="col-md-6 mb-3">
                {{ form.name.label_tag }}
                {{ form.name }}
            </div>
            <div class="col-md-6 mb-3">
                {{ form.contract.label_tag }}
                {{ form.contract }}
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                {{ form.start_date.label_tag }}
                {{ form.start_date }}
            </div>
            <div class="col-md-6 mb-3">
                {{ form.value.label_tag }}
                {{ form.value }}
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                {{ form.discounts.label_tag }}
                {{ form.discounts }}
            </div>
            <div class="col-md-6 mb-3">
                {{ form.final_value.label_tag }}
                {{ form.final_value }}
            </div>
        </div>

        <div class="mb-3">
            {{ form.discounts_detail.label_tag }}
            {{ form.discounts_detail }}
        </div>

        <div class="mb-3">
            {{ form.description.label_tag }}
            {{ form.description }}
        </div>

        <div class="mb-3">
            {{ form.attachment.label_tag }}
            {{ form.attachment }}
        </div>

        <div class="d-flex justify-content-end">
            <button type="submit" class="btn btn-primary me-2">Salvar</button>
            <a href="{% url 'home' %}" class="btn btn-secondary">Cancelar</a>
        </div>
    </form>
</div>
{% endblock %}

{% block extra_css %}
<style>
.ck-editor__editable_inline {
    min-height: 400px !important;
}
</style>
{% endblock %}

{% block extra_js %}
<!-- CKEditor bundle -->
<script src="{% static 'django_ckeditor_5/dist/bundle.js' %}"></script>

<!-- Script customizado -->
<script src="{% static 'src/app.js' %}"></script>
{% endblock %}
